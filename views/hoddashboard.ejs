<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
           
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
       
    .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #f4f4f4;
    padding: 10px 20px;
    border-bottom: 1px solid #ccc;
    width: 100%;
    background-color: #333;
    color: white;
    padding: 10px 0;
    text-align: center;
}

.header h1 {
    margin: 0;
}

.button {
    background-color: #4cad4f9a;
    border: none;
    color: white;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    font-size: 16px;
    cursor: pointer;
    border-radius: 8px;
    transition: background-color 0.3s;
}

.button1{
    background-color: #4c9dafde;
    border: none;
    color: white;
    padding: 40px 60px;
    text-align: center;
    text-decoration: none;
    font-size: 30px;
    cursor: pointer;
    border-radius: 8px;
    transition: background-color 0.3s;
}

.button2 {
    background-color: #4cad4f9a;
    border: none;
    color: white;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    font-size: 16px;
    cursor: pointer;
    border-radius: 8px;
    transition: background-color 0.3s;
}
.section
{
    margin-top: 300px;
}


        
        .mainbar {
            width: 100%;
            height: 100%;
            
        }
        
        .button:hover {
            background-color: #45a049;
        }

        .button1:hover {
            background-color: #45a049;
        }

        .button2:hover {
            background-color: #b62f2f;
        }
        img{
            width:40px;
            height: 40px;
        }
        #papersContainer {
    display: flex;
    justify-content: center; /* Align items horizontally */
    flex-wrap: wrap; /* Allow items to wrap to the next line */
    margin-left: 20px; /* Adjust the left margin as needed */
}

.paper-image {
    width: 200px; /* Adjust the width to your desired size */
    height: auto; /* Maintain aspect ratio */
    margin: 10px; /* Add some margin for spacing */
}

    </style>
</head>
<body>
    
    <header class="header">
        <a href="/" class="button">HOME</a>
        <h1>Welcome to the HOD Dashboard</h1>
        <a href="/hod/logout" class="button2" style="background-color: #ff4d4da1;">Logout</a>
    </header>
    <div class="section">
        <button class="button1" data-toggle="modal" data-target="#viewPapersModal">Select Question Papers</button>
        
    </div>
    
        
    

    <div id="papersContainer" class="container mt-5">
        <!-- PDF links will be dynamically added here -->
    </div>

        <!-- Bootstrap Modal -->
        
    
    <!-- Bootstrap Modal -->
    <div class="modal fade" id="viewPapersModal" tabindex="-1" role="dialog" aria-labelledby="viewPapersModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="viewPapersModalLabel">View Papers</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-3">
                            <img src="/images/folder.jpg" alt="Folder Icon" class="img-fluid year-folder" data-year="1" data-toggle="modal" data-target="#semesterFoldersModal">
                            <p>Year 1</p>
                        </div>
                        <div class="col-md-3">
                            <img src="/images/folder.jpg" alt="Folder Icon" class="img-fluid year-folder" data-year="2" data-toggle="modal" data-target="#semesterFoldersModal">
                            <p>Year 2</p>
                        </div>
                        <div class="col-md-3">
                            <img src="/images/folder.jpg" alt="Folder Icon" class="img-fluid year-folder" data-year="3" data-toggle="modal" data-target="#semesterFoldersModal">
                            <p>Year 3</p>
                        </div>
                        <div class="col-md-3">
                            <img src="/images/folder.jpg" alt="Folder Icon" class="img-fluid year-folder" data-year="4" data-toggle="modal" data-target="#semesterFoldersModal">
                            <p>Year 4</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap Modal for Semester Folders -->
    <div class="modal fade" id="semesterFoldersModal" tabindex="-1" role="dialog" aria-labelledby="semesterFoldersModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="semesterFoldersModalLabel">Semester Folders</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-3">
                            <img src="/images/folder.jpg" alt="Semester 1 Folder" class="img-fluid semester-folder" data-semester="1" data-toggle="modal" data-target="#midFoldersModal">
                            <p>Semester 1</p>
                        </div>
                        <div class="col-md-3">
                            <img src="/images/folder.jpg" alt="Semester 2 Folder" class="img-fluid semester-folder" data-semester="2" data-toggle="modal" data-target="#midFoldersModal">
                            <p>Semester 2</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap Modal for Mid Folders -->
    <div class="modal fade" id="midFoldersModal" tabindex="-1" role="dialog" aria-labelledby="midFoldersModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="midFoldersModalLabel">Mid Folders</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-3">
                            <img src="/images/folder.jpg" alt="Mid 1 Folder" class="img-fluid mid-folder" data-mid="1" data-toggle="modal" data-target="#subjectFoldersModal">
                            <p>Mid 1</p>
                        </div>
                        <div class="col-md-3">
                            <img src="/images/folder.jpg" alt="Mid 2 Folder" class="img-fluid mid-folder" data-mid="2" data-toggle="modal" data-target="#subjectFoldersModal">
                            <p>Mid 2</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap Modal for Subject Folders -->
    <div class="modal fade" id="subjectFoldersModal" tabindex="-1" role="dialog" aria-labelledby="subjectFoldersModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="subjectFoldersModalLabel">Subject Folders</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row" id="subjectFoldersContent">
                        <!-- Subject folders will be dynamically loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Your HTML code remains unchanged -->

<!-- Bootstrap Modal for Set Folders -->
<div class="modal fade" id="setFoldersModal" tabindex="-1" role="dialog" aria-labelledby="setFoldersModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="setFoldersModalLabel">Set Folders</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4">
                        <button type="button" class="btn btn-primary set-folder" data-set="1">Set 1</button>
                    </div>
                    <div class="col-md-4">
                        <button type="button" class="btn btn-primary set-folder" data-set="2">Set 2</button>
                    </div>
                    <div class="col-md-4">
                        <button type="button" class="btn btn-primary set-folder" data-set="3">Set 3</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Your JavaScript code remains unchanged -->


    <!-- Your JavaScript logic -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Your HTML code remains unchanged -->

<!-- Your JavaScript logic -->
<script>
    $(document).ready(function() {
            var selectedYear;
            var selectedSemester;
            var selectedMid;
            var selectedSubject;
            var selectedSet;

            $('#viewPapersModal').on('show.bs.modal', function(event) {
                selectedYear = null;
                selectedSemester = null;
                selectedMid = null;
                selectedSubject = null;
                selectedSet = null;
            });

            $('.year-folder').click(function() {
                selectedYear = $(this).data('year');
                $('#viewPapersModal').modal('hide');
            });

            $('.semester-folder').click(function() {
                selectedSemester = $(this).data('semester');
                $('#semesterFoldersModal').modal('hide');
            });

            $('.mid-folder').click(function() {
                selectedMid = $(this).data('mid');
                $('#midFoldersModal').modal('hide');
                fetchSubjects(selectedYear, selectedSemester, selectedMid);
            });

            $(document).on('click', '.subject-folder', function() {
                selectedSubject = $(this).data('subject');
                $('#subjectFoldersModal').modal('hide');
                $('#setFoldersModal').modal('show');
            });

            $(document).on('click', '.set-folder', function() {
                selectedSet = $(this).data('set');
                $('#setFoldersModal').modal('hide');
                updateHodSelected(selectedYear, selectedSemester, selectedMid, selectedSubject, selectedSet);
            });

            function fetchSubjects(year, semester, mid) {
                $.ajax({
                    url: '/fetch_subjects',
                    method: 'POST',
                    data: { year: year, semester: semester, mid: mid },
                    success: function(response) {
                        populateSubjectFolders(response);
                    },
                    error: function(xhr, status, error) {
                        console.error('Error fetching subjects:', error);
                    }
                });
            }

            function populateSubjectFolders(subjects) {
                var folderContent = $('#subjectFoldersContent');
                folderContent.empty();
                subjects.forEach(function(subject) {
                    var folderElement = $('<div class="col-md-3"><img src="/images/folder.jpg" alt="' + subject + ' Folder" class="img-fluid subject-folder" data-subject="' + subject + '"><p>' + subject + '</p></div>');
                    folderContent.append(folderElement);
                });
            }

            function updateHodSelected(year, semester, mid, subject, set) {
                $.ajax({
                    url: '/update_hod_selected',
                    method: 'POST',
                    data: { year: year, semester: semester, mid: mid, subject: subject, set: set },
                    success: function(response) {
                        console.log('HOD Selected updated successfully.');
                        
                    },
                    error: function(xhr, status, error) {
                        console.error('Error updating HOD Selected:', error);
                    }
                });
            }
            
        });
    </script>

    

    
    
</body>
</html>
